!function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,r=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote], button[data-confirm]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)},fire:function(e,n,r){var i=t.Event(n);return e.trigger(i,r),i.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(r){var i,o,a,u,c,l,s,d;if(n.fire(r,"ajax:before")){if(u=r.data("cross-domain"),c=u===e?null:u,l=r.data("with-credentials")||null,s=r.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,r.is("form")){i=r.attr("method"),o=r.attr("action"),a=r.serializeArray();var h=r.data("ujs:submit-button");h&&(a.push(h),r.data("ujs:submit-button",null))}else r.is(n.inputChangeSelector)?(i=r.data("method"),o=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):r.is(n.buttonClickSelector)?(i=r.data("method")||"get",o=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):(i=r.data("method"),o=n.href(r),a=r.data("params")||null);return d={type:i||"GET",data:a,dataType:s,beforeSend:function(t,i){return i.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),n.fire(r,"ajax:beforeSend",[t,i])?void r.trigger("ajax:send",t):!1},success:function(t,e,n){r.trigger("ajax:success",[t,e,n])},complete:function(t,e){r.trigger("ajax:complete",[t,e])},error:function(t,e,n){r.trigger("ajax:error",[t,e,n])},crossDomain:c},l&&(d.xhrFields={withCredentials:l}),o&&(d.url=o),n.ajax(d)}return!1},handleMethod:function(r){var i=n.href(r),o=r.data("method"),a=r.attr("target"),u=t("meta[name=csrf-token]").attr("content"),c=t("meta[name=csrf-param]").attr("content"),l=t('<form method="post" action="'+i+'"></form>'),s='<input name="_method" value="'+o+'" type="hidden" />';c!==e&&u!==e&&(s+='<input name="'+c+'" value="'+u+'" type="hidden" />'),a&&l.attr("target",a),l.hide().append(s).appendTo("body"),l.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,r;n=t.is("button")?"html":"val",r=t.data("disable-with"),t.data("ujs:enable-with",t[n]()),r!==e&&t[n](r),t.prop("disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,r=t.data("confirm"),i=!1;return r?(n.fire(t,"confirm")&&(i=n.confirm(r),e=n.fire(t,"confirm:complete",[i])),i&&e):!0},blankInputs:function(e,n,r){var i,o,a=t(),u=n||"input,textarea",c=e.find(u);return c.each(function(){if(i=t(this),o=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):i.val(),!o==!r){if(i.is("input[type=radio]")&&c.filter('input[type=radio]:checked[name="'+i.attr("name")+'"]').length)return!0;a=a.add(i)}}),a.length?a:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var r=t.data("disable-with");t.data("ujs:enable-with",t.html()),r!==e&&t.html(r),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(r,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,r){t.crossDomain||n.CSRFProtection(r)}),r.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),r.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(t(this))}),r.delegate(n.linkClickSelector,"click.rails",function(r){var i=t(this),o=i.data("method"),a=i.data("params"),u=r.metaKey||r.ctrlKey;if(!n.allowAction(i))return n.stopEverything(r);if(!u&&i.is(n.linkDisableSelector)&&n.disableElement(i),i.data("remote")!==e){if(u&&(!o||"GET"===o)&&!a)return!0;var c=n.handleRemote(i);return c===!1?n.enableElement(i):c.error(function(){n.enableElement(i)}),!1}return i.data("method")?(n.handleMethod(i),!1):void 0}),r.delegate(n.buttonClickSelector,"click.rails",function(e){var r=t(this);if(!n.allowAction(r))return n.stopEverything(e);r.is(n.buttonDisableSelector)&&n.disableFormElement(r);var i=n.handleRemote(r);return i===!1?n.enableFormElement(r):i.error(function(){n.enableFormElement(r)}),!1}),r.delegate(n.inputChangeSelector,"change.rails",function(e){var r=t(this);return n.allowAction(r)?(n.handleRemote(r),!1):n.stopEverything(e)}),r.delegate(n.formSubmitSelector,"submit.rails",function(r){var i,o,a=t(this),u=a.data("remote")!==e;if(!n.allowAction(a))return n.stopEverything(r);if(a.attr("novalidate")==e&&(i=n.blankInputs(a,n.requiredInputSelector),i&&n.fire(a,"ajax:aborted:required",[i])))return n.stopEverything(r);if(u){if(o=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var c=n.fire(a,"ajax:aborted:file",[o]);return c||setTimeout(function(){n.enableFormElements(a)},13),c}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),r.delegate(n.formInputClickSelector,"click.rails",function(e){var r=t(this);if(!n.allowAction(r))return n.stopEverything(e);var i=r.attr("name"),o=i?{name:i,value:r.val()}:null;r.closest("form").data("ujs:submit-button",o)}),r.delegate(n.formSubmitSelector,"ajax:send.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),r.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(){var t;t=function(){function t(t,e,n,r,i,o,a){this.name=t,this.baseRequestForFilter=e,this.baseLinkForShowAllRecords=n,this.linkForExport=r,this.parameterNameForQueryLoading=i,this.parameterNameForFocus=o,this.environment=a,this.filterDeclarations=new Array,this.checkIfJsFrameworkIsLoaded()}return t.prototype.checkIfJsFrameworkIsLoaded=function(){return jQuery?void 0:alert("jQuery not loaded, WiceGrid cannot proceed!")},t.prototype.toString=function(){return"<WiceGridProcessor instance for grid '"+this.name+"'>"},t.prototype.process=function(t){return window.location=this.buildUrlWithParams(t)},t.prototype.setProcessTimer=function(t){var e;return this.timer&&(clearTimeout(this.timer),this.timer=null),e=this,this.timer=setTimeout(function(){return e.process(t)},1e3)},t.prototype.reloadPageForGivenGridState=function(t){var e;return e=this.gridStateToRequest(t),window.location=this.appendToUrl(this.baseLinkForShowAllRecords,e)},t.prototype.gridStateToRequest=function(t){return jQuery.map(t,function(t){return encodeURIComponent(t[0])+"="+encodeURIComponent(t[1])}).join("&")},t.prototype.appendToUrl=function(t,e){var n;return n=-1!==t.indexOf("?")?/[&\?]$/.exec(t)?"":"&":"?",t+n+e},t.prototype.buildUrlWithParams=function(t){var e,n,r;return r=new Array,jQuery.each(this.filterDeclarations,function(t){return function(e,n){var i;return i=t.readValuesAndFormQueryString(n.filterName,n.detached,n.templates,n.ids),i&&""!==i?r.push(i):void 0}}(this)),n=this.baseRequestForFilter,0!==r.length&&(e=r.join("&"),n=this.appendToUrl(n,e)),t&&(n=this.appendToUrl(n,this.parameterNameForFocus+t)),n},t.prototype.reset=function(){return window.location=this.baseRequestForFilter},t.prototype.exportToCsv=function(){return window.location=this.linkForExport},t.prototype.register=function(t){return this.filterDeclarations.push(t)},t.prototype.readValuesAndFormQueryString=function(t,e,n,r){var i,o,a,u,c,l,s,d,h,f;for(c=new Array,o=s=0,h=n.length-1;h>=0?h>=s:s>=h;o=h>=0?++s:--s){if(null===$(r[o]))return"development"===this.environment&&(u='WiceGrid: Error reading state of filter "'+t+'". No DOM element with id "'+r[o]+'" found.',e&&(u+='You have declared "'+t+'" as a detached filter but have not output it anywhere in the template. Read documentation about detached filters.'),alert(u)),"";if(i=$("#"+r[o]),i[0]&&"checkbox"===i[0].type?i[0].checked&&(l=1):l=i.val(),l instanceof Array)for(a=d=0,f=l.length-1;f>=0?f>=d:d>=f;a=f>=0?++d:--d)l[a]&&""!==l[a]&&c.push(n[o]+encodeURIComponent(l[a]));else l&&""!==l&&c.push(n[o]+encodeURIComponent(l))}return c.join("&")},t}(),t._version="3.2",window.WiceGridProcessor=t}.call(this),function(){var t,e,n,r,i,o,a,u,c,l,s,d,h,f,p,m,g;$(document).on("page:load ready",function(){return r()}),n="wiceGrids",r=function(){return $(".wice-grid-container").each(function(e,r){var i,o,a,d,h,v,b,w,y;for(d=r.id,i=$(".wg-data",r),v=i.data("processor-initializer-arguments"),a=i.data("filter-declarations"),t(i.data("foc")),h=new WiceGridProcessor(d,v[0],v[1],v[2],v[3],v[4],v[5]),b=function(t){return h.register({filterName:t.filterName,detached:t.detached,templates:t.declaration.templates,ids:t.declaration.ids})},w=0,y=a.length;y>w;w++)o=a[w],b(o);return window[n]||(window[n]={}),window[n][d]=h,s(),g(r,h),l(r,h),f(r),m(r,h),p(r),u(r,h),c(r)}),a(),h(),d(),p($(".wg-detached-filter"))},o=function(t,e,n,r,i){var o,a,u,c;return(o=e.data(t))&&(u=$(c="#"+o))&&(a=u.datepicker("getDate"))&&i(a,n)?(u.datepicker("setDate",n),u.next().next().html($.datepicker.formatDate(r,n))):void 0},s=function(){var t;return 0!==$(".wice-grid-container input.check-for-datepicker[type=hidden], .wg-detached-filter input.check-for-datepicker[type=hidden]").length&&($.datepicker||alert("Seems like you do not have jQuery datepicker (http://jqueryui.com/demos/datepicker/)\ninstalled. Either install it or set Wice::Defaults::HELPER_STYLE to :standard in\nwice_grid_config.rb in order to use standard Rails date helpers")),(t=$(".wice-grid-container input[type=hidden], .wg-detached-filter input[type=hidden]").data("locale"))&&$.datepicker.setDefaults($.datepicker.regional[t]),$(".wice-grid-container .date-label, .wg-detached-filter .date-label").each(function(t,e){var n,r,i,a,u;return r=$("#"+$(e).data("dom-id")),i=r.data("close-calendar-event-name"),$(e).click(function(t){return $(this).html(""),r.val(""),i&&r.trigger(i),t.preventDefault(),!1}),a=this,n=r.data("date-format"),u=r.data("date-year-range"),r.datepicker({firstDay:1,showOn:"button",dateFormat:n,buttonImage:r.data("button-image"),buttonImageOnly:!0,buttonText:r.data("button-text"),changeMonth:!0,changeYear:!0,yearRange:u,onSelect:function(t){var e;return e=$(this).datepicker("getDate"),o("the-other-datepicker-id-to",r,e,n,function(t,e){return e>t}),o("the-other-datepicker-id-from",r,e,n,function(t,e){return t>e}),$(a).html(t),i?r.trigger(i):void 0}})})},f=function(t){var e,n,r;return n=".wg-hide-filter",r=".wg-show-filter",e=".wg-filter-row",$(n,t).click(function(){return $(this).hide(),$(r,t).show(),$(e,t).hide()}),$(r,t).click(function(){return $(this).hide(),$(n,t).show(),$(e,t).show()})},l=function(t,e){return $(".export-to-csv-button",t).click(function(){return e.exportToCsv()})},g=function(t,e){return $(".submit",t).click(function(){return e.process()}),$(".reset",t).click(function(){return e.reset()}),$(".wg-filter-row input[type=text]",t).keydown(function(t){return 13===t.keyCode?(t.preventDefault(),e.process()):void 0})},t=function(t){var e,n;return n=$("#"+t),(e=n[0])?(e.value=e.value,e.focus()):void 0},u=function(t,e){return $("select.auto-reload",t).change(function(){return e.process()}),$("input.auto-reload",t).keyup(function(t){return i(t.which)?e.setProcessTimer(this.id):void 0}),$("input.negation-checkbox.auto-reload",t).click(function(){return e.process()}),$(document).bind("wg:calendarChanged_"+e.name,function(){return e.process()})},i=function(t){return-1===[37,38,39,40,9,27].indexOf(t)},a=function(){return $(".wg-detached-filter").each(function(t,n){var r;return r=e(n),r?($("select.auto-reload",n).change(function(){return r.process()}),$("input.auto-reload",n).keyup(function(t){return i(t.which)?r.setProcessTimer(this.id):void 0}),$("input.negation-checkbox.auto-reload",n).click(function(){return r.process()})):void 0})},m=function(t,e){return $(".wg-show-all-link, .wg-back-to-pagination-link",t).click(function(t){var n,r,i;return t.preventDefault(),r=$(this).data("grid-state"),n=$(this).data("confim-message"),i=function(){return e.reloadPageForGivenGridState(r)},n?confirm(n)?i():void 0:i()})},p=function(t){return $(".expand-multi-select-icon",t).click(function(){return $(this).prev().each(function(t,e){return e.multiple=!0}),$(this).next().show(),$(this).hide()}),$(".collapse-multi-select-icon",t).click(function(){return $(this).prev().prev().each(function(t,e){return e.multiple=!1}),$(this).prev().show(),$(this).hide()})},c=function(t){return $(".select-all",t).click(function(){return $(".sel input",t).prop("checked",!0).trigger("change")}),$(".deselect-all",t).click(function(){return $(".sel input",t).prop("checked",!1).trigger("change")})},e=function(t){var e;return e=$(t).data("grid-name"),e&&window[n]?window[n][e]:null},d=function(){return $(".wg-external-csv-export-button").each(function(t,n){var r;return r=e(n),r?$(n).click(function(){return r.exportToCsv()}):void 0})},h=function(){return $(".wg-external-submit-button").each(function(t,n){var r;return r=e(n),r?$(n).click(function(t){return r.process(),t.preventDefault(),!1}):void 0}),$(".wg-external-reset-button").each(function(t,n){var r;return r=e(n),r?$(n).click(function(t){return r.reset(),t.preventDefault(),!1}):void 0}),$(".wg-detached-filter").each(function(t,n){var r;return r=e(n),r?$("input[type=text]",this).keydown(function(t){return 13===t.keyCode?(r.process(),t.preventDefault(),!1):void 0}):void 0})},window.getGridProcessorForElement=e}.call(this),function(){var t,e,n,r,i;$(document).on("page:load ready",function(){return i()}),i=function(){return $(".wice-grid-save-query-field").keydown(function(t){return 13===t.keyCode?r($(this).next(),t):void 0}),$(".wice-grid-save-query-button").click(function(t){return r(this,t)}),$(".wice-grid-delete-query").click(function(e){return t(this,e)}),$(".wice-grid-query-load-link").click(function(t){return e(this,t)})},e=function(t,e){var n,r,i;return(n=window.getGridProcessorForElement(t))&&(r=$(t).data("query-id"),i=n.appendToUrl(n.buildUrlWithParams(),n.parameterNameForQueryLoading+encodeURIComponent(r)),window.location=i),e.preventDefault(),e.stopPropagation(),!1},t=function(t,e){var r,i,o;return r=$(t).data("wg-confirm"),o=r?function(){return confirm(r)}:function(){return!0},o()&&(i=window.getGridProcessorForElement(t))&&jQuery.ajax({url:$(t).attr("href"),async:!0,dataType:"json",success:function(t){return n(t,i.name)},type:"POST"}),e.preventDefault(),e.stopPropagation(),!1},r=function(t,e){var r,i,o,a,u,c,l,s;return(i=window.getGridProcessorForElement(t))?(s=$(t),r=s.data("base-path-to-query-controller"),o=s.data("parameters"),u=s.data("ids"),a=s.prev(),u instanceof Array&&u.each(function(t){return o.push(["extra["+t+"]",$("#"+t).val()])}),c=a.val(),l=i.gridStateToRequest(o),jQuery.ajax({url:r,async:!0,data:l+"&query_name="+encodeURIComponent(c),dataType:"json",success:function(t){return n(t,i.name,c,a)},type:"POST"}),e.preventDefault(),!1):void 0},n=function(n,r,i,o){var a,u,c,l,s;return l="#"+r+"_notification_messages",u="#"+r+"_title",s="#"+r+"_query_list",i&&o.val(""),(a=n.error_messages)?$(l).text(a):((c=n.notification_messages)&&$(l).text(c),i&&$(u).html("<h3>"+i+"</h3>"),$(s).replaceWith(n.query_list),jQuery.ui&&$(s).effect("highlight"),$(".wice-grid-delete-query",$(s)).click(function(e){return t(this,e)}),$(".wice-grid-query-load-link",$(s)).click(function(t){return e(this,t)}))}}.call(this),function(){var t,e,n,r,i,o,a,u,c,l,s,d,h,f,p,m,g,v,b,w,y,k,$,x,S,E,T,j,F,_,C,R,D,q,A,I,H,L,P,N,O,G,M,Q,U,X,W,K,Y,z=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},B={}.hasOwnProperty,J=function(t,e){function n(){this.constructor=t}for(var r in e)B.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},V=[].slice;F={},d=10,Q=!1,m=null,j=null,A=null,p=null,K=null,w=function(t){var e;return t=new n(t),N(),s(),I(t),Q&&(e=U(t.absolute))?(y(e),k(t)):k(t,M)},U=function(t){var e;return e=F[t],e&&!e.transitionCacheDisabled?e:void 0},g=function(t){return null==t&&(t=!0),Q=t},k=function(t,e){return null==e&&(e=function(){return function(){}}(this)),X("page:fetch",{url:t.absolute}),null!=K&&K.abort(),K=new XMLHttpRequest,K.open("GET",t.withoutHashForIE10compatibility(),!0),K.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),K.setRequestHeader("X-XHR-Referer",A),K.onload=function(){var n;return X("page:receive"),(n=D())?(h.apply(null,b(n)),H(),e(),X("page:load")):document.location.href=t.absolute},K.onloadend=function(){return K=null},K.onerror=function(){return document.location.href=t.absolute},K.send()},y=function(t){return null!=K&&K.abort(),h(t.title,t.body),q(t),X("page:restore")},s=function(){var t;return t=new n(m.url),F[t.absolute]={url:t.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},f(d)},C=function(t){return null==t&&(t=d),/^[\d]+$/.test(t)?d=parseInt(t):void 0},f=function(t){var e,n,r,i,o,a;for(r=Object.keys(F),e=r.map(function(t){return F[t].cachedAt}).sort(function(t,e){return e-t}),a=[],i=0,o=r.length;o>i;i++)n=r[i],F[n].cachedAt<=e[t]&&(X("page:expire",F[n]),a.push(delete F[n]));return a},h=function(e,n,r,i){return document.title=e,document.documentElement.replaceChild(n,document.body),null!=r&&t.update(r),i&&v(),m=window.history.state,X("page:change"),X("page:update")},v=function(){var t,e,n,r,i,o,a,u,c,l,s,d;for(o=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),a=0,c=o.length;c>a;a++)if(i=o[a],""===(s=i.type)||"text/javascript"===s){for(e=document.createElement("script"),d=i.attributes,u=0,l=d.length;l>u;u++)t=d[u],e.setAttribute(t.name,t.value);e.appendChild(document.createTextNode(i.innerHTML)),r=i.parentNode,n=i.nextSibling,r.removeChild(i),r.insertBefore(e,n)}},O=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},I=function(t){return(t=new n(t)).absolute!==A?window.history.pushState({turbolinks:!0,url:t.absolute},"",t.absolute):void 0},H=function(){var t,e;return(t=K.getResponseHeader("X-XHR-Redirected-To"))?(t=new n(t),e=t.hasNoHash()?document.location.hash:"",window.history.replaceState(m,"",t.href+e)):void 0},N=function(){return A=document.location.href},P=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},L=function(){return m=window.history.state},q=function(t){return window.scrollTo(t.positionX,t.positionY)},M=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},R=function(t){var e,n;return e=(null!=(n=document.cookie.match(new RegExp(t+"=(\\w+)")))?n[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",e},X=function(t,e){var n;return n=document.createEvent("Events"),e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},_=function(){return!X("page:before-change")},D=function(){var t,e,n,r,i,o;return e=function(){var t;return 400<=(t=K.status)&&600>t},o=function(){return K.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},r=function(t){var e,n,r,i,o;for(i=t.head.childNodes,o=[],n=0,r=i.length;r>n;n++)e=i[n],null!=("function"==typeof e.getAttribute?e.getAttribute("data-turbolinks-track"):void 0)&&o.push(e.getAttribute("src")||e.getAttribute("href"));return o},t=function(t){var e;return j||(j=r(document)),e=r(t),e.length!==j.length||i(e,j).length!==j.length},i=function(t,e){var n,r,i,o,a;for(t.length>e.length&&(o=[e,t],t=o[0],e=o[1]),a=[],r=0,i=t.length;i>r;r++)n=t[r],z.call(e,n)>=0&&a.push(n);return a},!e()&&o()&&(n=p(K.responseText),n&&!t(n))?n:void 0},b=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,O(e.body),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},i=function(){var t,e,n,r,i,o;e=function(t){return(new DOMParser).parseFromString(t,"text/html")},t=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},n=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e};try{if(window.DOMParser)return i=e("<html><body><p>test"),e}catch(a){return r=a,i=t("<html><body><p>test"),t}finally{if(1!==(null!=i&&null!=(o=i.body)?o.childNodes.length:void 0))return n}},n=function(){function t(e){return this.original=null!=e?e:document.location.href,this.original.constructor===t?this.original:void this._parse()}return t.prototype.withoutHash=function(){return this.href.replace(this.hash,"")},t.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},t.prototype.hasNoHash=function(){return 0===this.hash.length},t.prototype._parse=function(){var t;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,t=this.link,this.href=t.href,this.protocol=t.protocol,this.host=t.host,this.hostname=t.hostname,this.port=t.port,this.pathname=t.pathname,this.search=t.search,this.hash=t.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},t}(),r=function(t){function e(t){return this.link=t,this.link.constructor===e?this.link:(this.original=this.link.href,void e.__super__.constructor.apply(this,arguments))}return J(e,t),e.HTML_EXTENSIONS=["html"],e.allowExtensions=function(){var t,n,r,i;for(n=1<=arguments.length?V.call(arguments,0):[],r=0,i=n.length;i>r;r++)t=n[r],e.HTML_EXTENSIONS.push(t);return e.HTML_EXTENSIONS},e.prototype.shouldIgnore=function(){return this._crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},e.prototype._crossOrigin=function(){return this.origin!==(new n).origin},e.prototype._anchored=function(){var t;return(this.hash&&this.withoutHash())===(t=new n).withoutHash()||this.href===t.href+"#"},e.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+e.HTML_EXTENSIONS.join("|")+")?$","g"))},e.prototype._optOut=function(){var t,e;for(e=this.link;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},e.prototype._target=function(){return 0!==this.link.target.length},e}(n),e=function(){function t(t){this.event=t,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(_()||W(this.link.href),this.event.preventDefault()))}return t.installHandlerLast=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",t.handle,!1),document.addEventListener("click",t.handle,!1))},t.handle=function(e){return new t(e)},t.prototype._extractLink=function(){var t;for(t=this.event.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return"A"===t.nodeName&&0!==t.href.length?this.link=new r(t):void 0},t.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},t.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},t}(),l=function(t){return setTimeout(t,500)},S=function(){return document.addEventListener("DOMContentLoaded",function(){return X("page:change"),X("page:update")},!0)},T=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e){return jQuery.trim(e.responseText)?X("page:update"):void 0}):void 0},E=function(t){var e,r;return(null!=(r=t.state)?r.turbolinks:void 0)?(e=F[new n(t.state.url).absolute])?(s(),y(e)):W(t.target.location.href):void 0},x=function(){return P(),L(),p=i(),document.addEventListener("click",e.installHandlerLast,!0),l(function(){return window.addEventListener("popstate",E,!1)})},$=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),u=window.history&&window.history.pushState&&window.history.replaceState&&$,o=!navigator.userAgent.match(/CriOS\//),G="GET"===(Y=R("request_method"))||""===Y,c=u&&o&&G,a=document.addEventListener&&document.createEvent,a&&(S(),T()),c?(W=w,x()):W=function(t){return document.location.href=t},this.Turbolinks={visit:W,pagesCached:C,enableTransitionCache:g,allowLinkExtensions:r.allowExtensions,supported:c}}.call(this),function(){}.call(this),function(){jQuery(function(){return $("a[rel~=popover], .has-popover").popover(),$("a[rel~=tooltip], .has-tooltip").tooltip()})}.call(this),function(){}.call(this);